<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

<textarea type="text" id="myText" rows="3" cols="35" style="resize:none"></textarea><br>
<input type="submit"  id="socketConnection" />
<ul id="serverMessage"></ul>
<p id="shit"></p>

<script>


const socketConnection = document.getElementById("socketConnection");
const para = document.getElementById("serverMessage");

function ws(){
    const wss = new WebSocket("ws://localhost:80")
    
    const wsMessage = document.getElementById("myText").value;

    wss.onopen = ()=>{
      wss.send(wsMessage)
    }

    wss.addEventListener("message", (event)=>{
        let sendingMessage = event.data;
        const li = document.createElement("li");
        li.innerHTML = sendingMessage
        para.appendChild(li);
        const reset = document.getElementById("myText").value = "";
    })
    

}
    
socketConnection.addEventListener("click", ws)

  </script>
</body>
</html>
